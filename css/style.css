<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrummer ‚Äî Launchpad</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body data-page="launchpad">

<div class="app-container">
    <aside class="sidebar">
        <div class="logo-area">
            <div class="logo-icon">S</div>
            <div class="logo-text">Scrummer</div>
        </div>
        <nav class="nav-menu">
            <a href="index.html" class="nav-item active"><span class="nav-icon">üöÄ</span> Setup</a>
            <a href="intelligence.html" class="nav-item"><span class="nav-icon">üìä</span> Insights</a>
            <a href="suggestions.html" class="nav-item"><span class="nav-icon">üí°</span> Actions</a>
            <a href="workspace.html" class="nav-item"><span class="nav-icon">‚ö°</span> Copilot</a>
        </nav>
        <div class="pro-card">
            <div class="pro-title">Scrummer Gold</div>
            <div class="pro-sub">Unlock AI Analysis</div>
            <button class="pro-btn">Upgrade ‚ú®</button>
        </div>
    </aside>

    <main class="main">
        <header class="top-header">
            <div class="page-title">Launchpad</div>
            <button id="themeToggle" class="btn-fun" style="background:white; color:black; font-size:12px;">Theme: Light</button>
        </header>

        <div class="fun-strip">
            <div class="strip-badge">Step 1</div>
            <div class="strip-text">Sprint Configuration</div>
            <div class="strip-sub">Enter metrics to calibrate the intelligence engine.</div>
        </div>

        <div class="content-scroll">
            <div class="grid-split">
                <div class="kpi-card">
                    <div class="section-title"><span>üìù</span> Current Sprint Data</div>
                    <div style="display:grid; gap:20px; margin-top:20px;">
                        <div>
                            <label class="kpi-label">Sprint Days</label>
                            <input id="sprintDays" type="number" placeholder="10" class="fun-input">
                        </div>
                        <div>
                            <label class="kpi-label">Team Members</label>
                            <input id="teamMembers" type="number" placeholder="7" class="fun-input">
                        </div>
                        <div>
                            <label class="kpi-label">Planned Leave (Days)</label>
                            <input id="leaveDays" type="number" placeholder="0" class="fun-input">
                        </div>
                        <div>
                            <label class="kpi-label">Committed Points</label>
                            <input id="committedSP" type="number" placeholder="40" class="fun-input">
                        </div>
                    </div>
                </div>

                <div style="display:flex; flex-direction:column; gap:20px;">
                    <div class="kpi-card">
                        <div class="section-title"><span>‚è≥</span> History</div>
                        <p style="font-size:12px; color:var(--text-muted); margin-bottom:12px;">Last 3 Sprints (Velocity)</p>
                        <div style="display:grid; gap:10px;">
                            <input id="v1" type="number" placeholder="N-1" class="fun-input" style="padding:10px;">
                            <input id="v2" type="number" placeholder="N-2" class="fun-input" style="padding:10px;">
                            <input id="v3" type="number" placeholder="N-3" class="fun-input" style="padding:10px;">
                        </div>
                    </div>

                    <div style="padding:10px;">
                        <button id="saveSetup" class="btn-fun" style="width:100%; background:var(--accent-fun); height:50px;">Save & Analyze ‚ûî</button>
                        <button id="resetSetup" style="width:100%; background:none; border:none; color:var(--text-light); margin-top:12px; cursor:pointer; font-weight:700;">Reset Form</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<script src="js/metrics.js"></script>
<script src="js/theme.js"></script>
<script src="js/shell.js"></script>
<script>
    (function(){
        const $ = (id) => document.getElementById(id);
        const setupApi = window.Scrummer?.setup;
        if(!setupApi) return;
        
        const fields = ["sprintDays","teamMembers","leaveDays","committedSP","v1","v2","v3"];
        
        // Prefill
        const data = setupApi.loadSetup();
        fields.forEach(k => { if($(k) && data[k]) $(k).value = data[k]; });

        $("saveSetup").onclick = () => {
            const newData = {};
            fields.forEach(k => newData[k] = $(k).value);
            setupApi.saveSetup(newData);
            window.location.href = "intelligence.html";
        };
    })();
</script>
</body>
</html>
