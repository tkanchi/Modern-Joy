<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scrummer ‚Äî Launchpad</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<link rel="stylesheet" href="css/style.css">
</head>
<body data-page="launchpad">

<div class="app-container">
  
  <aside class="sidebar">
    <div class="logo-area">
      <div class="logo-icon">S</div>
      <div class="logo-text">Scrummer</div>
    </div>

    <nav class="nav-menu">
      <a href="index.html" class="nav-item active">
        <span class="nav-icon">üöÄ</span> Setup
      </a>
      <a href="intelligence.html" class="nav-item">
        <span class="nav-icon">üìä</span> Insights
      </a>
      <a href="suggestions.html" class="nav-item">
        <span class="nav-icon">üí°</span> Actions
      </a>
      <a href="workspace.html" class="nav-item">
        <span class="nav-icon">‚ö°</span> Copilot
      </a>
    </nav>

    <div class="pro-card">
      <div class="pro-shine"></div>
      <div class="pro-title">Scrummer Gold</div>
      <div class="pro-sub">Unlock AI & Unlimited History</div>
      <button class="pro-btn">Upgrade ‚ú®</button>
    </div>
  </aside>

  <main class="main">
    
    <header class="top-header">
      <div class="page-title">Launchpad</div>
      <button id="themeToggle" class="btn-fun" style="background:white; color:var(--text-main); font-size:12px; padding:8px 16px; box-shadow:0 2px 8px rgba(0,0,0,0.05);">
        Theme: <span id="themeMode">Light</span>
      </button>
    </header>

    <div class="fun-strip">
      <div class="strip-badge">Step 1</div>
      <div class="strip-text">Sprint Setup</div>
      <div class="strip-sub">Enter your metrics to generate AI insights.</div>
    </div>

    <div class="content-scroll">
      
      <div class="action-card" style="cursor:default; margin-bottom:24px;">
        <div class="section-title"><span>üìù</span> Start Here</div>
        <p style="color:var(--text-muted); line-height:1.6; margin-bottom:16px;">
          Enter your sprint basics (team size, sprint days, commitment) below. 
          Scrummer converts this data into signals: <b>Health, Focus Factor, and Delivery Confidence.</b>
        </p>
        
        <div style="display:flex; gap:12px; flex-wrap:wrap;">
          <button id="demoExcellent" class="btn-fun" style="background:var(--success-bg); color:var(--success); font-size:11px;">Load Excellent Demo</button>
          <button id="demoNormal" class="btn-fun" style="background:var(--bg-app); color:var(--text-muted); font-size:11px;">Load Normal</button>
          <button id="demoRisky" class="btn-fun" style="background:var(--danger-bg); color:var(--danger); font-size:11px;">Load Risky</button>
        </div>
      </div>

      <div class="grid-split">
        
        <div>
          <div class="kpi-card">
            <div class="section-title" style="font-size:16px; margin-bottom:20px;">Sprint Metrics</div>
            
            <div style="display:grid; gap:16px;">
              <div>
                <label style="font-size:12px; font-weight:700; color:var(--text-muted); text-transform:uppercase; margin-bottom:6px; display:block;">Sprint Days</label>
                <input id="sprintDays" type="number" placeholder="10" style="width:100%; padding:12px; border-radius:12px; border:1px solid #E5E7EB; background:#F9FAFB; font-family:inherit;">
              </div>

              <div>
                <label style="font-size:12px; font-weight:700; color:var(--text-muted); text-transform:uppercase; margin-bottom:6px; display:block;">Team Members</label>
                <input id="teamMembers" type="number" placeholder="7" style="width:100%; padding:12px; border-radius:12px; border:1px solid #E5E7EB; background:#F9FAFB; font-family:inherit;">
              </div>

              <div>
                <label style="font-size:12px; font-weight:700; color:var(--text-muted); text-transform:uppercase; margin-bottom:6px; display:block;">Planned Leave (Days)</label>
                <input id="leaveDays" type="number" placeholder="3" style="width:100%; padding:12px; border-radius:12px; border:1px solid #E5E7EB; background:#F9FAFB; font-family:inherit;">
              </div>

              <div>
                <label style="font-size:12px; font-weight:700; color:var(--text-muted); text-transform:uppercase; margin-bottom:6px; display:block;">Committed Points</label>
                <input id="committedSP" type="number" placeholder="40" style="width:100%; padding:12px; border-radius:12px; border:1px solid #E5E7EB; background:#F9FAFB; font-family:inherit;">
              </div>
            </div>
          </div>
        </div>

        <div style="display:flex; flex-direction:column; gap:20px;">
          
          <div class="kpi-card">
            <div class="section-title" style="font-size:15px; margin-bottom:12px;">History (Last 3 Sprints)</div>
            <p style="font-size:12px; color:var(--text-muted); margin-bottom:16px;">Used to calculate volatility.</p>
            
            <div style="display:grid; gap:12px;">
              <input id="v1" type="number" placeholder="Sprint -1 Velocity" style="padding:10px; border-radius:12px; border:1px solid #E5E7EB;">
              <input id="v2" type="number" placeholder="Sprint -2 Velocity" style="padding:10px; border-radius:12px; border:1px solid #E5E7EB;">
              <input id="v3" type="number" placeholder="Sprint -3 Velocity" style="padding:10px; border-radius:12px; border:1px solid #E5E7EB;">
            </div>
          </div>

          <div class="action-card" style="cursor:default; text-align:center;">
            <div id="setupMsg" style="font-size:13px; font-weight:700; color:var(--accent-primary); margin-bottom:12px; display:none;"></div>
            
            <div style="display:flex; flex-direction:column; gap:10px;">
              <button id="saveSetup" class="btn-fun" style="background:var(--accent-fun); width:100%;">Save & Continue</button>
              <button id="resetSetup" class="btn-fun" style="background:white; color:var(--text-muted); border:1px solid #E5E7EB; width:100%;">Reset Form</button>
            </div>
          </div>

        </div>

      </div>

    </div>

  </main>
</div>

<script src="js/metrics.js"></script>
<script src="js/theme.js"></script>
<script src="js/shell.js"></script>

<script>
  (function(){
    const $ = (id) => document.getElementById(id);
    const setup = window.Scrummer?.setup;
    if (!setup) return;

    const fields = ["sprintDays","teamMembers","leaveDays","committedSP","v1","v2","v3"];

    function hasSavedSetup(){
      try{ return localStorage.getItem("scrummer.setupSaved") === "1"; }catch(e){ return false; }
    }

    function prefill(){
      const data = setup.loadSetup();
      fields.forEach(k => { if ($(k) && data[k] !== undefined) $(k).value = data[k]; });
    }

    function showMsg(text){
      const el = $("setupMsg");
      if (!el) return;
      el.style.display = "block";
      el.textContent = text;
      setTimeout(()=>{ el.style.display="none"; }, 2200);
    }

    $("saveSetup")?.addEventListener("click", () => {
      const data = {};
      fields.forEach(k => data[k] = $(k) ? $(k).value : "");
      setup.saveSetup(data);
      try{ localStorage.setItem("scrummer.setupSaved","1"); }catch(e){}
      showMsg("Saved! Redirecting...");
      setTimeout(() => {
        window.location.href = "intelligence.html";
      }, 1000);
    });

    $("resetSetup")?.addEventListener("click", () => {
      setup.saveSetup({});
      fields.forEach(k => { if ($(k)) $(k).value = ""; });
      try{ localStorage.removeItem("scrummer.setupSaved"); }catch(e){}
      showMsg("Reset complete.");
    });

    prefill();
  })();
</script>

<script>
  (function(){
    const $ = (id)=>document.getElementById(id);
    const setupApi = window.Scrummer?.setup;
    if(!setupApi) return;

    const ids = {
      sprintDays: "sprintDays",
      teamMembers: "teamMembers",
      leaveDays: "leaveDays",
      committedSP: "committedSP",
      v1: "v1", v2: "v2", v3: "v3"
    };

    function applyDemo(data){
      Object.keys(ids).forEach(k=>{
        const el = $(ids[k]);
        if(el) el.value = (data[k] ?? "");
      });
      setupApi.saveSetup(data);
      try{ localStorage.setItem("scrummer.setupSaved","1"); }catch(e){}

      const msg = $("setupMsg");
      if(msg){
        msg.style.display="block";
        msg.textContent="Demo loaded. Click Save & Continue.";
        setTimeout(()=>{ msg.style.display="none"; }, 1600);
      }
    }

    $("demoExcellent")?.addEventListener("click", ()=>applyDemo({
      sprintDays: 10, teamMembers: 8, leaveDays: 1,
      committedSP: 60, v1: 62, v2: 60, v3: 61
    }));
    $("demoNormal")?.addEventListener("click", ()=>applyDemo({
      sprintDays: 10, teamMembers: 7, leaveDays: 3,
      committedSP: 70, v1: 66, v2: 72, v3: 68
    }));
    $("demoRisky")?.addEventListener("click", ()=>applyDemo({
      sprintDays: 10, teamMembers: 6, leaveDays: 8,
      committedSP: 90, v1: 55, v2: 60, v3: 50
    }));
  })();
</script>

</body>
</html>
